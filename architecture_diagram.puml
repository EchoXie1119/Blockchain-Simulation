@startuml Blockchain Simulation Architecture

!theme plain
skinparam backgroundColor #FFFFFF
skinparam classBackgroundColor #F0F8FF
skinparam classBorderColor #4682B4
skinparam packageBackgroundColor #E6F3FF
skinparam packageBorderColor #4682B4

package "Main Entry Point" {
    class sim_blockchain {
        +main()
    }
}

package "Configuration Management" {
    class config {
        +BLOCKCHAIN_CONFIGS
        +WORKLOAD_CONFIGS
        +DEFAULT_CONFIG
        +SimulationConfig
        +from_args()
        +to_dict()
    }
}

package "Data Models" {
    class models {
        +Block
        +Transaction
        +Wallet
        +NetworkStats
        +MiningStats
        +SimulationStats
    }
}

package "Network Layer" {
    class network {
        +BlockchainNode
        +NetworkManager
        +store_block()
        +broadcast_block()
        +add_transaction()
    }
}

package "Mining Layer" {
    class mining {
        +Miner
        +MiningManager
        +start_mining()
        +submit_block()
        +adjust_difficulty()
        +halve_reward()
    }
}

package "Wallet Layer" {
    class wallet {
        +WalletManager
        +create_wallets()
        +generate_transactions()
        +process_confirmed_transaction()
        +add_mining_reward()
    }
}

package "Simulation Orchestrator" {
    class simulator {
        +BlockchainSimulator
        +start()
        +stop()
        +simulation_loop()
        +print_summary()
        +export_results()
    }
}

' Relationships
sim_blockchain --> simulator : imports
simulator --> config : uses
simulator --> models : uses
simulator --> network : manages
simulator --> mining : manages
simulator --> wallet : manages

network --> models : uses
mining --> models : uses
wallet --> models : uses

config --> models : provides config for

' Component relationships
network --> mining : block propagation
mining --> wallet : mining rewards
wallet --> mining : transaction pool
network --> wallet : transaction broadcast

' Data flow
models --> network : Block, Transaction
models --> mining : Block, MiningStats
models --> wallet : Transaction, Wallet
models --> simulator : SimulationStats

@enduml 